import cv2
import numpy as np
from skimage import feature
import skimage.data as skid
import cv2
import matplotlib.pyplot as plt
'''
img = cv2.imread('news12.jpg')
gray= cv2.cvtColor(img ,cv2.COLOR_BGR2GRAY)

sift = cv2.xfeatures2d.SIFT_create()

step_size = 5
kp = [cv2.KeyPoint(x, y, step_size) for y in range(0, gray.shape[0], step_size) 
                                    for x in range(0, gray.shape[1], step_size)]

img=cv2.drawKeypoints(gray,kp, img)
print(img)
plt.figure(figsize=(20,10))
plt.imshow(img)
plt.show()

dense_feat = sift.compute(gray, kp)
print(img.shape)
print(len(dense_feat))
'''
'''
def describe(image, eps=1e-7):
    numPoints = 24
    radius = 8
    lbp = feature.local_binary_pattern(image, numPoints,radius, method="uniform")
    (hist, _) = np.histogram(lbp.ravel(),bins=np.arange(0, numPoints + 3),	range=(0, numPoints + 2))
    hist = hist.astype("float")
    hist /= (hist.sum() + eps)
    return hist

image = cv2.imread('news12.jpg')
gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)
hist = describe(gray)
print(hist)
'''


from img_gist_feature.utils_gist import *
 
gist_helper = GistUtils()

np_img = cv2.imread('news12.jpg', -1)

print("default: rgb")
np_gist = gist_helper.get_gist_vec(np_img)
print("shape ", np_gist.shape)
 
print(np_gist)









